#!/bin/mksh

function usage {
  cat <<EOF
 Usage: $(basename $0) <path> [<cmd> <args>]
EOF
  exit
}

[ -n "$1" ] || 
[ -d "$1" ] || echo "venv: $1 not found" & exit 1
 
if [ -n "$1" || ! -d "$1" ]; then
  echo "venv: <path> [<cmd> [<arg>...]]" & exit 1
fi

# virtualenv magic
unset PYTHONHOME
export VIRTUAL_ENV="$1"
export PATH="$1/bin:$PATH"

shift 1

echo "$#"

if [ "$#" -gt "1" ]; then
  "${@}"
else
  /bin/mksh
fi
